# TODO: aliases?
[core]
	excludesFile = ~/.gitignore_global
	editor = vim
	# hooksPath = ~/.sampshell/git; #!/bin/sh; echo "precmd"; x=$GIT_DIR/hooks/pre-commit; if [ -e "$x" ]; then exec "$x" "$@"; fi


[branch]
	# sort = ??

[push]
	autoSetupRemote = true

[grep]
	lineNumber = true
	patternType = perl

[init]
	defaultBranch = master

[sampshell]
	branchSeparator = /
	branchPrefix = swesterman

[alias]
	############################################################################
	#                            Shorthand Commands                            #
	############################################################################

	# git status
	s  = status
	ss = status --short

	# git rebase
	rb  = rebase
	rbm = !git rebase "$(git master-branch)"
	rba = rebase --abort

	# git checkout
	co = checkout
	com = !git checkout "$(git master-branch)" --

	rs = reset
	cp = cherry-pick

	d  = diff
	dm = !git diff "$(git master-branch)"
	ds = diff --stat
	dms = !git diff --stat "$(git master-branch)"
	dsm = dms
	dno = diff --name-only
	dh = "!f () { if [ $# -eq 0 ]; then set -- 'HEAD~1'; fi; git diff \"$@\"; }; f"
	dhs = "!f () { if [ $# -eq 0 ]; then set -- 'HEAD~1'; fi; git diff --stat \"$@\"; }; f"

	m = "!f () { if [ $# -eq 0 ]; then set -- '@{-1}'; fi; git merge \"$@\"; }; f"
	mm = !git diff "$(git master-branch)"
	ma = merge --abort

	a = add
	aa = !git add --all && git status

	cm = commit-msg
	cma = cm --amend
	cmn = cm --no-verify
	cman = cm --amend --no-verify
	cmna = cman

	new-branch = "!f() { branch=$(git branch-name "$@") && git switch --create "$branch"; }; f"
	nb = new-branch
	dirs = prev-branches

	br = branch
	brc = branch --show-current

	sw = "!f() { if [ $# -eq 0 ]; then set '@{-1}'; fi; git switch \"$@\"; }; f"
	swm = !git switch "$(git master-branch)"

	st = stash
	stp = stash pop

	f = fetch
	pl = pull
	ph = push
	phf = push --force

	nit     = commit --amend --no-edit
	current-branch = branch --show-current
	aliases = config --get-regexp ^alias\\.

	l = log
	log-short = log --pretty=format:"%C(yellow)%h\\ %ad%Cred%d\\ %Creset%s%Cblue\\ [%cn]" --decorate --date=short

	# interacting with github
	pr = create-pr
	prv = !gh pr view --web
	ru = remote-url
	ruo = "!f () { if [ \"$1\" == -h ]; then git remote-url -h >&2; return 1; fi; remote=$(git remote-url \"$@\") && open -- \"$remote\"; }; f"
	ruc = "!f () { if [ \"$1\" == -h ]; then git remote-url -h >&2; return 1; fi; git remote-url \"$@\" | pbcopy; }; f"

	# others idk i need
	isancestor = merge-base --is-ancestor
	g = grep

	# oops = !git add --all && git commit --amend --no-edit && git push --force
# TODO: Only `git push --force` if a remote is available

	# Stuff from work:
	unstage = reset HEAD --
 	# list branches sorted by last modified
 	b = "!git for-each-ref --sort='-authordate' --format='%(authordate)%09%(objectname:short)%09%(refname)' refs/heads | sed -e 's-refs/heads/--'"
