#!/bin/sh

##
# Quick fixup for code in a commit that wasn't there
##

if [ "$1" = -h ]; then cat <<USAGE; exit; fi
usage: $(basename -- "$0" | sed 's/-/ /1') [files to add]
Adds all files mentioned, or all files if none specified, then commits on the same pr, and pushes.
USAGE

if [ $# = 0 ]; then
	git add --all || return
else
	git add -- "$@" || return
fi

# TODO: Only `git push --force` if a remote is available
git commit --amend --no-edit && git push --force
